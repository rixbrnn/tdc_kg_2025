PREFIX :   <http://example.org/chinook#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

# Q1 (TODO)
# For each customer, what is their favorite genre
# (the genre where they spent the most money)?
#
# Goal:
#   Return one row per customer with:
#     - the customer IRI
#     - the customer's name
#     - the favorite genre name
#     - the amount spent on that favorite genre
#
# Assumptions:
#   - :Customer :fullName ?customerName
#   - :Customer :hasInvoice :Invoice
#   - :Invoice :hasLine :InvoiceLine
#   - :InvoiceLine :unitPrice ?price ; :quantity ?qty ; :lineTrack :Track
#   - :Track :hasGenre :Genre
#   - :Genre :name ?genreName
#
# Hints:
#   1) First compute how much each customer spent per genre:
#        - Walk from customer → invoice → line → track → genre
#        - Compute a line total:
#             BIND(xsd:decimal(?price) * xsd:decimal(?qty) AS ?lineTotal)
#        - GROUP BY customer & genre, SUM(?lineTotal) as ?genreRevenue
#
#   2) Then, for each customer, pick only the genre with the highest
#      revenue (their "favorite genre").
#      You can do this with a subquery that:
#        - groups by customer & genre
#        - orders by revenue DESC
#        - uses LIMIT 1 to keep only the top genre per customer.
#
#   3) In the outer SELECT, join that subquery result back to the
#      customer to also return the customer's name.
#
# Write your SPARQL query below:

